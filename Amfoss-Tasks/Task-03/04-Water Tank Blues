# Function to calculate the total water in the all tanks in a facility
def calculate_total_water_in_alltanks():
  total_water_in_alltanks = 0
  for water_in_tank in water_in_tanks_list:
    total_water_in_alltanks = total_water_in_alltanks+water_in_tank
  return total_water_in_alltanks

# Function to find any empty tank 
def isThereAnyEmptyTank(tank_start_index, tank_end_index):
  if(tank_start_index == tank_end_index):  # this happens if the number of tanks are 3 
    if(water_in_tanks_list[tank_start_index]==0):      
      return True,tank_start_index
  else:
    for tank_index in range(tank_start_index,tank_end_index):  
      if(water_in_tanks_list[tank_index]==0):
        return True,tank_index
  return False,0

def makeNonEmptyTanks():
  number_of_intermittent_operations = 0
  for water_tank_index in range(0,num_of_watertanks):
    isEmpty, empty_tank_index = isThereAnyEmptyTank(water_tank_index+1, num_of_watertanks-2) 
    if(isEmpty == True):
      water_in_tanks_list[empty_tank_index-1]=water_in_tanks_list[empty_tank_index-1]-1
      water_in_tanks_list[empty_tank_index]=water_in_tanks_list[empty_tank_index]+1
      number_of_intermittent_operations= number_of_intermittent_operations+1
      #print("Operation "+str(number_of_intermittent_operations), water_in_tanks_list)
  return number_of_intermittent_operations

# Let us read the input data and convert them to integer to use it 
import sys

data = sys.stdin.readlines()
num_of_facilities = int(data[0])
#print("num_of_facilities=",num_of_facilities)

numbers_of_operation_for_each_facility = []
for i in range(1,num_of_facilities*2,2): #we will increment the range by 2 
    num_of_watertanks = int(data[i])
    water_in_tanks_string = data[i+1]
    water_in_tanks_list = []
    for element in water_in_tanks_string.split():  # converting string to list
        water_in_tanks_list.append(int(element))
        
    number_of_operations = 0
    
    total_water_in_alltanks = calculate_total_water_in_alltanks()
    # if total water in all tanks is not equal to water in last tank, then only we will execute it.
    if(water_in_tanks_list[num_of_watertanks-1]!=total_water_in_alltanks):  
      number_of_operations = makeNonEmptyTanks()

      for water_tank_index in range(0,num_of_watertanks-1):
        water_in_the_tank = water_in_tanks_list[water_tank_index]
        number_of_operations = number_of_operations+water_in_the_tank
        """
        for i in range(0,water_in_the_tank):
          water_in_tanks_list[water_tank_index]=water_in_tanks_list[water_tank_index]-1
          water_in_tanks_list[num_of_watertanks-1]=water_in_tanks_list[num_of_watertanks-1]+1
          number_of_operations= number_of_operations+1
          #print("Operation "+str(number_of_operations), water_in_tanks_list)
        """

    print(number_of_operations)

